<app-header
  class="mw-header"
  (search)="onGlobalSearch($event)"
  (category)="onGlobalCat($event)">
</app-header>

<ion-content
  [fullscreen]="true"
  class="mw-home"
  scrollEvents="true"
  (ionScroll)="onScroll($event)"
>
  <div class="page-body">

    <!-- üß≠ HERO -->
    <section class="hero">
      <div class="hero-bg" [style.background]="slides[currentSlide].color"></div>
      <div class="hero-content">
        <h1>{{ slides[currentSlide].text }}</h1>
      </div>
      <button class="arrow left" (click)="prevSlide()"><ion-icon name="chevron-back-outline"></ion-icon></button>
      <button class="arrow right" (click)="nextSlide()"><ion-icon name="chevron-forward-outline"></ion-icon></button>
    </section>

    <!-- üß© TARJETAS -->
    <section class="top-cards" *ngIf="topCards.length">
      <div class="card" *ngFor="let t of topCards" (click)="goToCategory(t.link)">
        <h2>{{ t.title }}</h2>
        <p>{{ t.desc }}</p>

        <ng-container *ngIf="t.multi; else singleCard">
          <div class="grid">
            <img *ngFor="let img of t.imgs" [src]="img.src" [alt]="img.alt" />
          </div>
        </ng-container>

        <ng-template #singleCard>
          <img [src]="t.img" [alt]="t.title" />
        </ng-template>
      </div>
    </section>

    <!-- üöú STRIP -->
    <section class="strip" *ngIf="stripItems.length">
      <h2>M√°s art√≠culos por considerar</h2>
      <div class="strip-container" #stripEl>
        <div class="item" *ngFor="let s of stripItems" (click)="goToCategory(s.link)">
          <img [src]="s.img" [alt]="s.title" />
          <h4>{{ s.title }}</h4>
        </div>
      </div>
      <div class="controls">
        <button (click)="scrollStrip(-1)">‚Äπ</button>
        <button (click)="scrollStrip(1)">‚Ä∫</button>
      </div>
    </section>

    <!-- üß± TILES -->
    <section class="tiles" *ngIf="tiles.length">
      <div class="tile" *ngFor="let t of tiles" (click)="goToCategory(t.link)">
        <h3>{{ t.title }}</h3>
        <div class="images">
          <img *ngFor="let img of t.imgs" [src]="img.src" [alt]="img.alt" />
        </div>
        <a [routerLink]="t.link" class="cta">{{ t.cta }}</a>
      </div>
    </section>

    <app-footer></app-footer>

  </div>
</ion-content>
